var chat_log = {
    "Group": [
        ["Adi", "Ehhhh @Bryan @Patrick how did your H2 math go?"],
        ["Hilman", "Huh their paper ended alr ah? Morning paper?"],
        ["Player", "Wahhh sian"],
        ["Player", "Couldn't seem to do all the questions"],
        ["Player", "@Hilman Ya, morning paper,1h paper only. It started at 8am"],
        ["Hilman", "F"],
        ["Hilman", "Bruh I thought yall could use GDC"],
        ["Adi", "Ya bro this paper all the qns can use GDC right?"],
        ["Player", "I mean yea we could but they put in weird variables"],
        ["Player", "@Patrick could you do the question on the ducks?"],
        ["Adi", "what ducks"],
        ["Player", "Some stupid question on size of ducks in diff seasons"],
        ["Player", "They made us find SD by hand cos they put in some weird algebra"],
        ["Hilman", "Wah thank God I took H1 math"],
        ["Adi", "Wait SD by hand? wth"],
        ["Hilman", "No lah got some formula for that, very easy one"],
        ["Player", "Okay FLEX"],
        ["Player", "I forgot which SD formula to use so hopefully I got it right"],
        ["Adi", "Aiya, that’s just 1 question right?"],
        ["Player", "UHM WELLLL the entire stats paper was pretty much a mess so..."],
        ["Adi", "LOL NEVERMIND THEN, FORGET ABT IT"],
        ["Adi", "Finish alr lah"],
        ["Hilman", "HAHAHAHAHA YA nevermind, cannot do anything alr"],
        ["Player", "Tsk, yeah, what to do?"],
        ["Player", "Just hope for the best"],
        ["Adi", "Eh nevermind la we go celebrate first, we study for too long alr"],
        ["Player", "LOL WHY I ALWAYS GO OUT W YALL?"],
        ["Player", "Why I no gf to go out with ah T.T"],
        ["Hilman", "Too bad :P why ur face so ugly LMAO"],
        ["Adi", "wah Hil why so toxic?"],
        ["Adi", "Not like your face any better"],
        ["Adi", "As Bryan put it, ur face is rather bland"],
        ["Player", "HAHAHA Steal my line ah"],
        ["Hilman", "Tsk better than having 10000 pimples like Patrick"],
        ["Adi", "Don’t so toxic lah bro"],
        ["Hilman", "EHHH Anyway so I wanted to ask if yall free later this afternoon, since exams ended"],
        ["Player", "LOL I was just gonna game so ya I guess"],
        ["Adi", "bruh I busy w chess tournament leh"],
        ["Hilman", "Aiya you win so many competitions alr can miss one"],
        ["Player", "Adi, you no need practice anyway, you’re too good"],
        ["Adi", "ye la ye la"],
        ["Adi", "So, what do you have in mind?"],
        ["Hilman", "We've studied so long alr, there's so many new movies that came out"],
        ["Adi", "EH YAA"],
        ["Adi", "THE INFINITY WAR MOVIE JUST CAME OUT"],
        ["Player", "Infinity War?"],
        ["Player", "OH the Avengers one"],
        ["Adi", "Ya"],
        ["Hilman", "LOL I only watch for the action"],
    ],
    "Patrick" : [
        ["Patrick", "BRO"],
        ["Patrick", "OI"],
        ["Patrick", "YOU THERE"],
        ["Player", "Yea, what"],
        ["Patrick", "I"],
        ["Patrick", "Am going"],
        ["Patrick", "To ask"],
        ["Patrick", "Marianne"],
        ["Patrick", "OUT"],
        ["Player", "Bruh"],
        ["Player", "You barely know her"],
        ["Player", "Is that rlly the best move right now"],
        ["Patrick", "OKAY NO LIKE"],
        ["Patrick", "I THINK WE HAVE A GD CONNECTION"],
        ["Patrick", "IT MIGHT ACTL WORK"],
        ["Player", "That’s what you said for the 5 or so girls in sec sch.."],
        ["Player", "Just before you got rejected by every single one of them"],
        ["Patrick", "OKAY WHY YOU GOTTAN BE LIKE THT"],
        ["Patrick", "Like I mean that was difff"],
        ["Player", "Sureeeeee it was"],
        ["Patrick", "I MEAN"],
        ["Patrick", "Marianne and I have a good bond"],
        ["Patrick", "And we are similar in so many ways"],
        ["Patrick", "I think she’ll say yes"],
        ["Player", "Okay, tab then"],
        ["Patrick", "TQTQ"],
        ["Player", "Don’t forget me LOL"],
        ["Patrick", "NO LA OFC I WONT"],
        ["Payer", "HAHAHAHAHAHA"],
        ["Patrick", "AGGHHHHH OK NVM I CANNOT"],
        ["Player", "LOL HAHAHAHA I THOUGHT U WERE SO CONFIDENT"],
        ["Patrick", "NONONO NVM"],
        ["Patrick", "Our convo took a diff turn"],
        ["Patrick", "Maybe next time"],
        ["Player", "LOL GG"],
        ["Patrick", "Oiiii"],
        ["Player", "What"],
        ["Patrick", "HAVE YOU HEARD THE NEW BLACKPINK SONG????"],
        ["Player", "Uhm yea, it’s all over my Youtube feed"],
        ["Patrick", "DUDEEEE"],
        ["Patrick", "It’s so goood"],
        ["Player", "Chill"],
        ["Player", "it’s like a solid"],
        ["Player", "7/10"],
        ["Patrick", "NAH NAH NAH"],
        ["Patrick", "I GIVE IT 11/10"],
        ["Patrick", "LIKE BRO"],
        ["Patrick", "LOOK AT THE VIEWS"],
        ["Player", "Calm down, it won’t even beat BTS"],
        ["Patrick", "YEA IT WILL"],
        ["Patrick", "HAHHAHAHA I’M STREAMING IT RN IN CLASS"],
        ["Player", "Pay attention to bio lahh"],
        ["Patrick", "NOOOOO"],
        ["Patrick", "WE GG BEAT BTS"],
        ["Player", "Uhm alright"],
        ["Player", "If you say so.."],
        ["Patrick", "BROOOOOO"],
        ["Patrick", "Did you see my choir scoresheets?"],
        ["Player", "Nope"],
        ["Player", "Oh wait"],
        ["Player", "I think they were on the table"],
        ["Patrick", "WHICH TABLE"],
        ["Player", "Beside the piano?"],
        ["Patrick", "OH DAMN"],
        ["Patrick", "HOW AM I GG TO PRACTICE.. AGHHHH"],
        ["Player", "Uhh"],
        ["Player", "I can send u the online copies"],
        ["Patrick", "YES PLS"],
        ["Patrick", "The concert is in less than a month"],
        ["Patrick", "I NEED TO PRACTICE"],
        ["Player", "Ok ok chill"],
        ["Player", "Anyway I’ll be there to cover you"],
        ["Player", ":P"],
        ["Patrick", "Ehhhh why you gotta do me like that"],
        ["Player", "HAHAHA You’re off-pitch so often"],
        ["Patrick", "WOI COME ON LA"],
        ["Patrick", "It’s not often"],
        ["Player", "Okay fineee"],
        ["Patrick", "ANYWAY SEND ME THE SCORES SOON PLS"],
        ["Patrick", "THANKS"],
        ["Patrick", "Bryan, you there?"],
        ["Player", "WHY ON EARTH ARE YOU STILL UP FOR??"],
        ["Player", "IT’S 3AM"],
        ["Patrick", "Couldn’t sleep"],
        ["Patrick", "Ended up studying"],
        ["Player", "You can study so late meh?"],
        ["Patrick", "Nope"],
        ["Patrick", "Can’t focus"],
        ["Player", "Bruh go get some sleep"],
        ["Player", "Your Bio paper is in like 3 hours"],
        ["Patrick", "I know"],
        ["Patrick", "Why are youu still up?"],
        ["Player", "Coding lorhh"],
        ["Player", "It’s not like I have exam tmr anyway"],
        ["Player", "(More like today)"],
        ["Patrick", "Yea.. you who don’t take bio"],
        ["Patrick", "Ok nvm. Don’t disturb you"],
        ["Player", "There there"],
        ["Player", "Try to go sleep"],
    ],
    "Hilman": [

    ],
    "Adi": [

    ],
};

var chat_elements = {
    "Group": loadChat("Group"),
    "Patrick": loadChat("Patrick"),
    "Hilman": loadChat("Hilman"),
    "Adi": loadChat("Adi"),
};

var diary_entries = [
    [
        "New Year's Day?!", "1 January 2021",
        `Dear Diary, (haha, what a funny thing to say) 
        <br /><br />
        How should I start this? Hilman has been telling me that I should start keeping diary entries to help me “reflect” on myself and things 
        around me. He says it helps him note down key events and moments to which he can look back on. I guess I’ll keep a record of important 
        events just in case I forget. New year, new me?
        <br /><br />
        This new year feels kind of surreal. Time has passed in a flash...Seems about the right time to start thinking about adulthood as well - 
        what is independance, what is the significance of friendships going forward...
        <br /><br />
        Too many thoughts to fit in one entry
        <br /><br />
        Best regards? Bryan.`
    ],
    [
        "First Day of JC :P", "04 February 2021",
        `Dear Diary,
        <br /><br />
        It’s official. I’ve stepped into my new JC. Dang this feels weird but… I’m finally a JC student and honestly - the sight of those three 
        idiots in uniform really makes my heart feel fuzzy. Urgh I hate it when I feel like that but - The. Gang. Is. Back. For that, I am always 
        grateful.  Hopefully we’ll be in the same class too. 
        <br /><br />
        Fun nugget! Patrick was so certain about making it here, that he bought the school uniform before the year even started. Spoil market… 
        But I mean, of course he was going to get in, his O’s were straight As. This man’s always after excellence and perfection.
        <br /><br />
        On a side note, I gave Hilman a peek at my diary and he commented that it was very “bland”, and said that my entries should be more flavourful and exciting. Why do diaries have to be exciting anyway? I say his face is the one that looks bland. I kinda like that insult… I’ll use it next time I see him. Anyway, Adi did suggest I should add pictures. Feeling lazy...
        <br /><br />
        Best Regards? 
        <br /><br />
        P.S. I still don’t know how to end a diary entry haha`
    ],
    [
        "Class bonding", "14 April 2021",
        `Dear Diary,
        <br /><br />
        It’s been a while… JC has been a rush - choir rehearsals, a crap load of homework and all this new “social dynamics” I need to watch out for. Anyway, something interesting happened today. Our class went out for a bonding sesh and I noticed Patrick and Marianne sticking together a little bit too much? He even seemed to get a bit down when this popular guy Ethan started chatting with her.
        <br /><br />
        I’m sure Patrick likes her… even I would. He started smiling so much and dodged all the questions that Adi was asking him. The WHOLE train ride back home, he was just talking about her. I’ve never seen him so happy before.
        <br /><br />
        I don’t really know whether I should feel sad or happy. I’m not comfortable talking to girls, especially when most of them aren’t suited to my style. Maybe Patrick will be the first to go and then Adi and Hilman… Haha I’ll lose all my friends. 
        <br /><br />
        Patrick’s JC goals are questionable…
        <br /><br />
        Cheers`    
    ],
    [
        "Achievement Unlocked: Flawless Performance", "13 June 2021",
        `Dear Diary,
        <br /><br />
        THE CHOIR DID IT!! OUR FIRST JC PERFORMANCE IN THE CHOIR! At the SYF no less! Patrick and I had so much fun! Adi and Hilman were watching and they enjoyed the performance so much! Even Hilman, who is a music genius, only had good things to say! A FIRST FOR HILMAN! HAHAHAHAHA Adi was really impressed by the harmony of the costumes and set. I am so glad it all went well.
        <br /><br />
        Honestly, it was pretty nerve-wrecking, but hey we made it. Patrick has been so jittery about this performance for weeks. It was so funny to see him talk about it everyday. DAMN that guy can talk and talk. He even mentioned how his parents would be watching and he was so excited to show them what the choir had been working on. 
        <br /><br />
        I hope I can keep this energy and happiness up all the way till the end of the year. Hilman, being his cynical self, did say that we have to start focussing on studying soon though. Well, this was a fun energy boost should last a while
        <br /><br />
        Bryan.` 
    ],
    [
        "Heat is turning up", "26 July 2021",
        `Dear Diary,
        <br /><br />
        The school’s National Day ceremony is less than two weeks away and per annual tradition, the Choir will be performing a piece for it. HOWEVER, we are still fumbling some parts! So far removed we are from the glory days we experienced  during SYF. Why didn’t we just do the same piece again one may ask. I call it the classic case of complacency. Many of us were in our own heads being drunk on the success that we have experienced and felt that we could do anything. Arranging, rehearsing and polishing an entirely new song within a month and a half was definitely not a good idea. Patrick seems to be almost on the verge of breaking down. He’s never been an especially quick learner, and I’m sure the reduced runway isn’t helping either. But we all know that he’ll put in the extra effort to make it work, so he’ll be fine. 
        <br /><br />
        Adi will also be going to the UK for the next two weeks to compete in some high level chess competition, best of luck to him.` 
    ],
    [
        "Not the best parade", "7 August 2021",
        `Dear Diary,
        <br /><br />
        Dang was it a hectic day. I don’t think I’ll ever get used to the early and long hours of performance days no matter how many times I do it. Waking up at 5 to be in school by 5.30 for final rehearsals, followed by almost an hour for costumes and makeup?! That’s almost inhumane. Even so, I’m grateful that it was about as smooth as it could go, with no major hiccups less a missing set of makeup. (which only served further slow down the process) 
        <br /><br />
        The performance, however, was about as bad as one could make it out to be, of no (almost) fault of our own. Even after the tech run in the morning, the sound systems decided to fail us in the middle of the performance, which threw us into arrays of confusion. Never have we ever even been briefed about how to react to a sudden failure of the mics. Some of us started looking around while others attempted to sing louder. Disaster. Fortunately for us, our teacher was among the audience and managed to settle us down with his familiar gestures, directing us to perform as per practice. 
        <br /><br />
        In the aftermath, there was crying, ranting and raging. Patrick in particular, was beside himself as he went on and on about the amount of time he spent to perfect his role for it to be foiled by the sound system of all things. I, on the other hand, was just glad that the fiasco was over and tried to get Patrick onto the same train of thought. Adi and Hilman got a good laugh out of this less than ideal scenario, and they thoroughly enjoyed themselves watching the performance and we poked some at Patrick as well. Bad choice? Maybe. But at least we got him to smile and laugh it off.
        <br /><br />
        Never again.` 
    ],
    [
        "Tis the season to be studying", "27 September 2021",
        `Dear Diary,
        <br /><br />
        Day after day staying behind in school with Adi, Hilman and Patrick and sometimes Marianne may seem like the most boring thing to ever do, but it’s wild the kind of things you discover through studying with others. Adi has somehow gotten messier over the years, especially with his ever growing collection of highlighters for various colour coding. (he’s gotten another 6 shades since mid-years) Hilman is doing his thing, being good with all the theoretical concepts, but struggling with picturing flow for practical based questions. Patrick on the other hand, is almost always flustered, burying his head in the books, trying to master every aspect of every subject. I sometimes wonder how he manages to stay sane with the sheer number of hours he puts into studying. 
        <br /><br />
        JC is a crazy world, and there’s still so much more ahead of us. I personally don’t quite like studying, and it hurts my head to even think about the entire pile that has to be gone through to be adequately ready for exams. I’ve since learnt over the years to focus on the short term goals to feel more tangible progress in this trudge towards competency, but it is hard sometimes. Wonder what uni will be like..
        <br /><br />
        Tired and still lazy.` 
    ]
];

decision_log = {
    "day2": "",
    'final': "",
    'reject': false,
};

var current_chat = "Group";
var message_notif = new Audio("assets/new_message.mp3");

//constructing the decision tree
class TreeNode {
    constructor(optionText, gameEvent) {
        this.option = optionText;
        this.gameEvent = gameEvent;
        this.descendants = [];
    }
}

var decision_tree = [];
var conflict_flag = false;
var lock_options = true;
var options_group = 'Group';
current_decision = null;

//helper sleep function from https://stackoverflow.com/questions/951021/what-is-the-javascript-version-of-sleep 
function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

function changeDate(date, month, year) {
    var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
    var dateObj = new Date(year, month, date);
    document.getElementById('date').innerHTML = date;
    console.log(dateObj);
    document.getElementById('day').innerHTML = days[dateObj.getDay()];
    document.getElementById('month').innerHTML = months[month];
}

// Onclick event handler to swap diary entry
function changeDiaryEntry(entry_num) {
    var diary_entry = document.getElementById('diary-entry');
    if (entry_num > diary_entries.length - 1) {
        diary_entry.children[0].innerHTML = "Diary entry does not exist";
        diary_entry.children[1].innerHTML = "";
        diary_entry.children[2].innerHTML = "";
    } else {
        diary_entry.children[0].innerHTML = diary_entries[entry_num][0];
        diary_entry.children[1].innerHTML = diary_entries[entry_num][1];
        diary_entry.children[2].innerHTML = diary_entries[entry_num][2];
    }

    diary_entry.children[2].scrollTop = 0;
}

// Creates a message div element
function newMessage(person, chat_contents) {
    var message_container = document.createElement('div');
    var person_name = document.createElement('p');
    var message_content = document.createElement('p');
    
    if (person == "Player") {
        message_container.setAttribute("class", "user");
        person_name.innerHTML = "You";
    } else {
        message_container.setAttribute("class", "other-user");
        person_name.innerHTML = person;
    }

    person_name.setAttribute("class", person);
    message_content.innerHTML = chat_contents;

    message_container.appendChild(person_name);
    message_container.appendChild(message_content);

    return message_container;
}

// Returns a chat-window div with all the chats appended to it as children (Used for initial chat loading)
function loadChat(chat_name) {
    var new_chat_window = document.createElement('div');
    new_chat_window.setAttribute('id', 'chat-window');

    var new_chat_log = chat_log[chat_name];
    
    for (var i = 0; i < new_chat_log.length; i++) {
        var message_container = newMessage(new_chat_log[i][0], new_chat_log[i][1]);
        new_chat_window.appendChild(message_container);
    }

    current_chat = chat_name;
    return new_chat_window;
}

// Onclick event handler to swap chat group
function swapToNewChat(person) {
    document.getElementById('chat-window').remove();
    document.getElementById('messenger-main').appendChild(chat_elements[person]);

    current_chat = person;
    document.getElementById(person + "-contact").setAttribute('class', '');

    // auto scrolls down
    chat_elements[person].scrollTop = chat_elements[person].scrollHeight;
}

async function addMessageEvent(chat_name, message, sound, sleeptime) {
    await sleep(sleeptime);
    sound.play();
    var chat = chat_elements[chat_name];
    chat.appendChild(message);
    chat.scrollTop = chat.scrollHeight;

    if (current_chat != chat_name) {
        document.getElementById(chat_name + "-contact").setAttribute("class", "unread");
    }
}

function addDiaryEvent(diary_entry) {
    diary_entries.push(diary_entry);
    var diary_list = document.getElementById("diary-list");
    var new_entry = document.createElement('div');
    var entry_num = diary_list.children.length;
    new_entry.addEventListener("click", function() {
        changeDiaryEntry(entry_num);
    })
    new_entry.textContent = "Diary Entry " + String(diary_list.children.length + 1) + " - " + diary_entry[0];
    diary_list.appendChild(new_entry);
    diary_list.scrollTop = diary_list.scrollHeight;
}

// Builds the decision tree. A very crude way of doing so.
function buildDecisionTree() {
    //Building option pathway for Day 1
    var startNode = new TreeNode("root", null);
    var neutralOption = new TreeNode("OK, join us next time if you can!", day1_neutral);
    var probingOption = new TreeNode("What do you have on?", day1_probing);
    startNode.descendants.push(neutralOption);
    startNode.descendants.push(probingOption);
    probingOption.descendants.push(new TreeNode("Alright, hope everything is ok, let us know if you need anything", day1_probingend));
    probingOption.descendants.push(new TreeNode("[Don't probe]", day1_probingend));

    // Day 2
    var start2Node = new TreeNode("root", null);
    var revealOption = new TreeNode("[Reveal Patrick's Results]", day2_reveal);
    var waitOption = new TreeNode("[Wait for Patrick to reply]", day2_wait);
    start2Node.descendants.push(revealOption);
    start2Node.descendants.push(waitOption);

    var relaxOption = new TreeNode("Relax, this is just one exam. You can learn from this and do better next time", day2_relax);
    var apologyOption = new TreeNode("Sorry, I should have let you reply yourself. It’s my bad for not being more sensitive", day2_apology);
    revealOption.descendants.push(relaxOption);
    revealOption.descendants.push(apologyOption);

    var apologyOption2 = new TreeNode("[Apologise to Patrick]", day2_apology2);
    var probingOption2 = new TreeNode("[Probe further]", day2_probing);
    relaxOption.descendants.push(apologyOption2);
    relaxOption.descendants.push(probingOption2);

    var understandOption = new TreeNode("ok I understand. I won’t tell them", day2_understand);
    var notellOption = new TreeNode("I won’t tell them if you don’t want me to. But why not?", day2_notell);
    waitOption.descendants.push(understandOption);
    waitOption.descendants.push(notellOption);

    var okOption = new TreeNode("Ok sure", day2_ok);
    var questionOption = new TreeNode("[Continue Questioning]", day2_questioning);
    notellOption.descendants.push(okOption);
    notellOption.descendants.push(questionOption);

    var convoendOption = new TreeNode("[Let conversation end]", day2_convoend);
    var pushingOption = new TreeNode("[Push Patrick to tell the truth]", day2_pushing);
    questionOption.descendants.push(convoendOption);
    questionOption.descendants.push(pushingOption);

    // Day 3
    var start3Node = new TreeNode("root", null);
    var exposePath = new TreeNode("", day3_expose);
    var liePath = new TreeNode("", day3_lie);
    start3Node.descendants.push(exposePath);
    start3Node.descendants.push(liePath);

    var adviceOption = new TreeNode("[Give Advice]", day3_advice);
    var supportOption = new TreeNode("[Give Support]", day3_support);
    exposePath.descendants.push(adviceOption);
    exposePath.descendants.push(supportOption);

    // Day 3.5
    var start3Node2 = new TreeNode("root", null);
    var keepOption = new TreeNode("[Ask Adi not to bring it up in the group]", day32_keep);
    var releaseOption = new TreeNode("[Ask Adi to bring it up in the group]", day32_release);
    start3Node2.descendants.push(keepOption);
    start3Node2.descendants.push(releaseOption);

    // Day 4
    var start4Node = new TreeNode("root", null);
    var consoleOption = new TreeNode("[Console and reassure him by yourself]", day4_console);
    var groupOption = new TreeNode("[Bring up Patrick's stresses in the group] AFFINITY MUST BE GREATER THAN 7", day4_group);
    start4Node.descendants.push(consoleOption);
    start4Node.descendants.push(groupOption);

    var console2Option = new TreeNode("[Console and reassure him by yourself]", day4_console2);
    var group2Option = new TreeNode("[Bring up Patrick's stresses in the group] AFFINITY MUST BE GREATER THAN 8", day4_group2);
    consoleOption.descendants.push(console2Option);
    consoleOption.descendants.push(group2Option);

    var console3Option = new TreeNode("[Console and reassure him by yourself]", day4_console3);
    var restOption = new TreeNode("[Bring up Patrick's stresses in the group] AFFINITY MUST BE GREATER THAN 8", day4_rest);
    console2Option.descendants.push(console3Option);
    console2Option.descendants.push(restOption);

    // Day 5
    var start5Node = new TreeNode("root", null);

    decision_tree.push(startNode);
    decision_tree.push(start2Node);
    decision_tree.push(start3Node);
    decision_tree.push(start3Node2);
    decision_tree.push(start4Node);
    decision_tree.push(start5Node);

    current_decision = startNode;
}

// Onclick option event handler
function processOption(option) {
    if (option > current_decision.descendants.length - 1 || lock_options) {
        return;
    }

    current_decision = current_decision.descendants[option];
    lock_options = true;
    displayOption([]);
    if (current_decision.option[0] == '[') {
        if (current_decision) {
            current_decision.gameEvent();
        }
    } else {
        addMessageEvent(options_group, newMessage("Player", current_decision.option), message_notif, 0);
        if (current_decision) {
            current_decision.gameEvent();
        }
    }
}

// Displays the new options (descendants of the current decision node)
function displayOption(decisions) {
    lock_options = false;
    if (decisions.length == 0) {
        lock_options = true;
    }

    for (var i = 0; i < decisions.length; i++) {
        var option_box = document.getElementById("option" + String(i + 1));
        option_box.textContent = decisions[i].option;
    }

    for (var j = decisions.length; j < 4; j++) {
        var option_box = document.getElementById("option" + String(j + 1));
        option_box.textContent = "";
    }
}

async function startGame() {
    var group = 'Group';

    await addMessageEvent(group, newMessage("Player", "Same, I just like the graphics and effects"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "How dare youuu"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Eh there’s a movie at 7pm"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Hilman", "Just nice we eat dinner first, watch alr, then go get drinks"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Woi we underage you know"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Ehh nice one lah"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "Meet at 5pm?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "@Adi bro I just meant dessert and stuff"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "@Bryan sounds good. Movie is at Vivo City so we can just meet there"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Ah, just nice, near my house. Okay, see yall"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "@Patrick you coming?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Uhm"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I think yall go ahead without me, I've got stuff"), message_notif, 2000);
	
    displayOption(current_decision.descendants);
}

function day1_neutral() {
    var message_notif = new Audio("assets/new_message.mp3");
    var group = 'Group';

    addMessageEvent(group, newMessage("Patrick", "Sure."), message_notif, 1000);
    displayOption(current_decision.descendants);

    addDiaryEvent([
        "Done With Exams!!", "09 November 2021",
        `Dear Diary,
        <br /><br />
        WE’VE MADE IT!! Our last exam is finally completed!! Wow, it has been a long, painful journey. I’m so, so happy to finally be done with it. Long break ahead!! I think that last H2 Math paper went as well as I could have expected it to. Not ideal, but I did my best. 
        <br /><br />
        The rest seem pretty relieved that exams have ended too. Both Adi and Hilman have not hesitated to engage in their hobbies right away, since their exams ended yesterday. Hmm maybe I should have followed them and taken H1 math too. Adi has been training “hard” for his upcoming chess competition. HAHAHA it doesn’t seem hard at all for him and he seems to enjoy himself. Plus, he is really, really good at it. 
        <br /><br />
        Hilman has been producing Da Vinci-level art. Damn those art pieces truly are a sight to behold. That guy is just too talented already, too much skill. Honestly, I would have just been playing games and rotting.
        <br /><br />
        Anyway, the three of us went out today to the movies. It’s been awhile since I watched a movie in the cinema and truly experienced the sounds and visual effects. I’ve missed having time to go out and enjoy myself like this. We watched Avengers: Infinity War. It was epic! It was so cool to see all the pieces of the MCU come together. I can’t wait for part 2 of the movie!
        <br /><br />
        We had a good time discussing the movie and possible plots and subplots for part 2 over drinks. Adi went full-nerd on the whole thing. He went off rambling about “themes and character development”. He also kept going on about “time travel” and ”comic-book canon”. You know what I think about it? It’s pretty lame and it’s complex, I can’t be bothered to think much. Who even thinks about such stuff anyway… I’m just watching it for the cool effects and funny lines :P
        <br /><br />
        `
    ]);

    startday2();
}

function day1_probing() {
    var message_notif = new Audio("assets/new_message.mp3");
    var group = 'Group';

    addMessageEvent(group, newMessage("Patrick", "I'm just busy. I can't make it. Sorry to disappoint"), message_notif, 1000);
    displayOption(current_decision.descendants);
}

function day1_probingend() {
    var message_notif = new Audio("assets/new_message.mp3");
    var group = 'Group';

    displayOption(current_decision.descendants);
    addDiaryEvent([
        "LAST DAY OF J1 FYE", "09 November 2021",
        `Dear Diary,
        <br /><br />
        WE’VE MADE IT!! Our last exam is finally completed!! Wow, it has been a long, painful journey. I’m so, so happy to finally be done with it. Long break ahead!! I think that last H2 Math paper went as well as I could have expected it to. Not ideal, but I did my best. 
        <br /><br />
        The rest seem pretty relieved that exams have ended too. Both Adi and Hilman have not hesitated to engage in their hobbies right away, since their exams ended yesterday. Hmm maybe I should have followed them and taken H1 math too. Adi has been training “hard” for his upcoming chess competition. HAHAHA it doesn’t seem hard at all for him and he seems to enjoy himself. Plus, he is really, really good at it. 
        <br /><br />
        Hilman has been producing Da Vinci-level art. Damn those art pieces truly are a sight to behold. That guy is just too talented already, too much skill. Honestly, I would have just been playing games and rotting.
        <br /><br />
        Anyway, the three of us went out today to the movies. It’s been awhile since I watched a movie in the cinema and truly experienced the sounds and visual effects. I’ve missed having time to go out and enjoy myself like this. We watched Avengers: Infinity War. It was epic! It was so cool to see all the pieces of the MCU come together. I can’t wait for part 2 of the movie!
        <br /><br />
        We had a good time discussing the movie and possible plots and subplots for part 2 over drinks. Adi went full-nerd on the whole thing. He went off rambling about “themes and character development”. He also kept going on about “time travel” and ”comic-book canon”. You know what I think about it? It’s pretty lame and it’s complex, I can’t be bothered to think much. Who even thinks about such stuff anyway… I’m just watching it for the cool effects and funny lines :P
        <br /><br />
	    It’s such a pity that Patrick missed this outing though. He really would have enjoyed the movie and hanging out with us. He usually is not one to miss outings and all. We should look out in case he’s having any issues. Oh well, maybe next time then.
        `
    ]);

    startday2();
}

async function startday2() {
    await sleep(30000);
    changeDate(19, 11-1, 2021);
    current_decision = decision_tree[1];
    var group = 'Group';

    await addMessageEvent(group, newMessage("Hilman", "Yo how did yall do?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Well, could be better"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Adi", "Uhm Math poor as usual"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Oof my Math dropped too"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "But Chemistry and Chinese not too bad"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Literature dropped a bit, and so did Econs"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "But my biggest disappointment would be my GP"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Wah same"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "I thought GP was okay"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Ohh yall didn’t do too well?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Uh I guess dropped a bit"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "But it’s to be expected, JC has been so packed"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yeah, so many CCA events and stuff to do"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "All the topics are all new too"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "My other subjects like comp science and chem improved a little though"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Hbu Hilman? You did well?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Okay lah, mostly As still, just a slight drop in lit to B"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "HAHAHAH okay lah what to do? At least your Lit is still doing well"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I barely managed a C for Lit this time"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "@Patrick hbu? Are your chem and math still up there?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "All the topics are all new too"), message_notif, 1000);

    displayOption(current_decision.descendants);
}

async function day2_reveal() {
    var group = "Group";

    await addMessageEvent(group, newMessage("Player", "Nah, Patrick didn’t do too well this time"), message_notif, 0);
    await addMessageEvent(group, newMessage("Player", "I think he struggled to pass most subjects"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Patrick? Really? He topped us all at Os"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Hmm perhaps the JC changes really got him"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Give him a while"), message_notif, 1000);

    group = "Patrick";
    await addMessageEvent(group, newMessage("Patrick", "DID YOU HAVE TO TELL THEM??"), message_notif, 1000);
    options_group = "Patrick";

    decision_log['day2'] = 'expose';

    addDiaryEvent([
        "J1 Results Day", "19 November 2021",
        `
        Dear Diary,
        <br /><br />
	    It truly has been a busy year. We finally made it to the very end. Even Adi, who is usually on top of everything, has been feeling swamped. His results weren’t as good as he had expected but, being the tough bean that he is, wasn’t too distraught. He did mention the many changes we had to adapt to and accepted that a drop in grades was to be expected. 
        <br /><br />
	    Hilman scored the usual. Straight ‘A’s again. I don’t know how that man keeps doing it! Meanwhile here I am proud of my slight improvement from the midyear exams. 
        <br /><br />
        Weirdly, Patrick seemed to have slipped up this time round. In hindsight, I really should have been more sensitive and should not have revealed Pat’s results before he did. I hope he doesn;t hold that against me.
        `
    ]);

    displayOption(current_decision.descendants);
}

async function day2_wait() {
    var group = "Group";
    await addMessageEvent(group, newMessage("Patrick", "Aiya yall know me, can’t get anything less than 85 rank points"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Hilman", "Okay okay no needa flex"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Your ego going to break the roof alr"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Let him be happy bro, you know how hard he’s been working"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "LOL OKAY PATRICK"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "The girls will be chasing after your massive brain soon"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yah don’t forget us when the girls are flocking to you for tuition"), message_notif, 2000);

    group = "Patrick";
    await addMessageEvent(group, newMessage("Patrick", "Eh bro"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "I know you saw the class rankings"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "I’m pretty much dead last"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Pls keep this between us"), message_notif, 1000);
    options_group = "Patrick";

    displayOption(current_decision.descendants);
}

async function day2_relax() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Patrick", "Ofc you can say that"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Ur parents wld be happy even if you are dead last in class"), message_notif, 2000);

    displayOption(current_decision.descendants);
}

async function day2_apology() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Patrick", "Nah, it’s fine"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "Just let me know if you need anything okay"), message_notif, 2000);
    options_group = "Group";

    displayOption(current_decision.descendants);
    startDay3();
}

async function day2_apology2() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Player", "Hey, uh I guess I didn’t mean it like that. I just thought that you could trust these guys and all, sorry if replying for you wasn’t sensitive on my part"), message_notif, 0);
    await addMessageEvent(group, newMessage("Patrick", "Yeah, it’s fine"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I guess I just wanted to encourage you to do better next time"), message_notif, 2000);
    options_group = "Group";

    displayOption(current_decision.descendants);
    startDay3();
}

async function day2_probing() {
    options_group = "Group";
    displayOption(current_decision.descendants);
    startDay3();
}

async function day2_understand() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Player", "Ok, I understand. I won’t tell them"), message_notif, 0);
    await addMessageEvent(group, newMessage("Patrick", "Thx bro"), message_notif, 2000);
    options_group = "Group";
    decision_log['day2'] = 'lie';

    displayOption(current_decision.descendants);

    addDiaryEvent([
        "J1 Results Day", "19 November 2021",
        `
        Dear Diary,
        <br /><br />
	    It truly has been a busy year. We finally made it to the very end. Even Adi, who is usually on top of everything, has been feeling swamped. His results weren’t as good as he had expected but, being the tough bean that he is, wasn’t too distraught. He did mention the many changes we had to adapt to and accepted that a drop in grades was to be expected. 
        <br /><br />
	    Hilman scored the usual. Straight ‘A’s again. I don’t know how that man keeps doing it! Meanwhile here I am proud of my slight improvement from the midyear exams. 
        <br /><br />
        Weirdly, Patrick seemed to have slipped up this time around. Considering that he didn’t want to tell the truth, it must be a sensitive topic for him. Hopefully the others are understanding if they ever do find out about it.
        `
    ]);

    conflict_flag = true;
    decision_log['day2'] = 'lie';
    startDay3();
}

async function day2_notell() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Player", "I won’t tell them if you don’t want me to, but why not?"), message_notif, 0);
    await addMessageEvent(group, newMessage("Patrick", "It’s just...embarrassing"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Pls don’t tell them"), message_notif, 1000);
    options_group = "Group";
    decision_log['day2'] = 'lie';

    addDiaryEvent([
        "J1 Results Day", "19 November 2021",
        `
        Dear Diary,
        <br /><br />
	    It truly has been a busy year. We finally made it to the very end. Even Adi, who is usually on top of everything, has been feeling swamped. His results weren’t as good as he had expected but, being the tough bean that he is, wasn’t too distraught. He did mention the many changes we had to adapt to and accepted that a drop in grades was to be expected. 
        <br /><br />
	    Hilman scored the usual. Straight ‘A’s again. I don’t know how that man keeps doing it! Meanwhile here I am proud of my slight improvement from the midyear exams. 
        <br /><br />
        Weirdly, Patrick seemed to have slipped up this time around. Considering that he didn’t want to tell the truth, it must be a sensitive topic for him. Hopefully the others are understanding if they ever do find out about it.
        `
    ]);

    displayOption(current_decision.descendants);

    conflict_flag = true;
}

async function day2_ok() {
    addDiaryEvent([
        "J1 Results Day", "19 November 2021",
        `
        Dear Diary,
        <br /><br />
	    It truly has been a busy year. We finally made it to the very end. Even Adi, who is usually on top of everything, has been feeling swamped. His results weren’t as good as he had expected but, being the tough bean that he is, wasn’t too distraught. He did mention the many changes we had to adapt to and accepted that a drop in grades was to be expected. 
        <br /><br />
	    Hilman scored the usual. Straight ‘A’s again. I don’t know how that man keeps doing it! Meanwhile here I am proud of my slight improvement from the midyear exams. 
        <br /><br />
        Weirdly, Patrick seemed to have slipped up this time around. Considering that he didn’t want to tell the truth, it must be a sensitive topic for him. Hopefully the others are understanding if they ever do find out about it.
        `
    ]);

    conflict_flag = true;
    decision_log['day2'] = 'lie';
    startDay3();
}

async function day2_questioning() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Player", "I’m sure that Adi and Hilman can understand"), message_notif, 0);
    await addMessageEvent(group, newMessage("Player", "We’ve been friends for long enough and we can get past this hurdle together"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Don’t you think so?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "I guess so"), message_notif, 1000);

    displayOption(current_decision.descendants);
}

async function day2_convoend() {
    options_group = "Group";
    conflict_flag = true;
    decision_log['day2'] = 'lie';
    startDay3();
}

async function day2_pushing() {
    var group = "Patrick";
    await addMessageEvent(group, newMessage("Player", "Just let them know I guess.."), message_notif, 0);
    await addMessageEvent(group, newMessage("Player", "Try not to keep lies from them"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "We are friends afterall"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Hmm"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Fine I guess"), message_notif, 1000);

    group = "Group";
    await addMessageEvent(group, newMessage("Patrick", "Guys...actually"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I didn’t do well at all"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I came pretty much last in class"), message_notif, 1000);

    group = "Hilman";
    await addMessageEvent(group, newMessage("Hilman", "Yo dude"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "What’s up w Patrick?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Why’d he say he did well then suddenly change"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Well I guess"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "It may be something sensitive to him, so let’s just support him now and be sensitive"), message_notif, 1000);
    
    group = "Group";
    await addMessageEvent(group, newMessage("Adi", "Eh don’t be ashamed to admit it, we all make mistakes sometimes. Sometimes we just need a break to improve and try harder"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Hilman", "Yeah, sometimes you just gotta stop, take a good hard look at yourself, then carry on from there"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Anw bro, we are all here if you need us, just ask and we’ll help"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "It’s a long way to go honestly, so don’t be afraid to ask for help"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Yeah, thanks guys. I guess it’s just been a hard year"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "It has been on all of us, so don’t be scared to talk abt it"), message_notif, 1000);
    
    options_group = "Group";

    addDiaryEvent([
        "J1 Results Day", "19 November 2021",
        `
        Dear Diary,
        <br /><br />
	    It truly has been a busy year. We finally made it to the very end. Even Adi, who is usually on top of everything, has been feeling swamped. His results weren’t as good as he had expected but, being the tough bean that he is, wasn’t too distraught. He did mention the many changes we had to adapt to and accepted that a drop in grades was to be expected. 
        <br /><br />
	    Hilman scored the usual. Straight ‘A’s again. I don’t know how that man keeps doing it! Meanwhile here I am proud of my slight improvement from the midyear exams. 
        <br /><br />
        Weirdly, Patrick seemed to have slipped up this time around. Considering that he didn’t want to tell the truth, it must be a sensitive topic for him. I’m just glad that he still managed to find the courage to tell the truth to Adi and Hilman and that they earnestly supported him. I’m really blessed to have such a great group of friends ;)
        `
    ]);

    displayOption(current_decision.descendants);

    decision_log['day2'] = 'expose';

    conflict_flag = true;
    startDay3();
}

async function startDay3() {
    var group = "Group";
    await sleep(3000);
    changeDate(22, 11-1, 2021);
    options_group = "Group";
    current_decision = decision_tree[2];
    await addMessageEvent(group, newMessage("Hilman", "Eh guys, will yall be there for Parent-Teacher Meeting tmr?"), message_notif, 0);
    await addMessageEvent(group, newMessage("Player", "UHM"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "My parents will be thr but I don’t need to attend the PTM with them"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "LOL My parents aren’t even going to attend"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "SAME, my parents said my grades don’t warrant their attention"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "HAHAHA My parents want to attend but they’re too busy at work"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "OKAY SO ANYWAY"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Do yall wanna do smth during the PTM?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "We still hv lessons after the PTM"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Yea so we can’t leave sch yet"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "I was thinking we cld play soccer or smth"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "Good idea LOL I think some of the guys frm my class wanna play too"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "The Joshua grp?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "Yea Joshua and gang"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "nicee"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Uh guys"), message_notif, 0);
    await addMessageEvent(group, newMessage("Patrick", "I don’t think I can play w yall"), message_notif, 2000);

    if (decision_log['day2'] == 'lie') {
        day3_lie();
    } else {
        day3_expose();
    }
}

async function day3_expose() {
    var group = "Group";

    await addMessageEvent(group, newMessage("Patrick", "I need to be w my parents when they see the teachers"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Ohh yea…"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Hilman", "Big oof"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "How did your parents react?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I got scolded for going out too much and not prioritising"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "But how can that be?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yea, you studied the hardest out of all of us"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Yeah bro, u only ever went out w the class a few times"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Yeah, and other than choir, u had your nose in the books all day everyday"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yea, I think it’s just the change in tempo from sec sch to JC"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "I don’t think it’s your fault at all"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Thx for all the support guys"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "My parents don’t see it the way.."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "But at least you passed all your important subjects right?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Surely that’s something?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Well, not rlly"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "They punished me for going out too much anw, so I’m pretty much gg home straight after such from now on"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Oh and my phone usage has been cut and they’ll be monitoring me a lot more closely :|"), message_notif, 2000);

    displayOption(current_decision.descendants);
}

async function day3_lie() {
    var group = "Group";
    await addMessageEvent(group, newMessage("Adi", "Why not?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Uh my parents want me to be the for PTM"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "I thought you did well?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Only students that did poorly need to be thr for PTM"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Tsk"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "My parents just want it"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Aiyo okay then"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Why so sudden ah"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "I thought ur parents nvr come for PTM"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "Well I mean maybe his parents are curious about a certain female classmate of his"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "AHHH that’s more likely"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Why do yall always bring up Marianne"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Who said anth abt Marianne?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Heh we only said female classmate"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "EXPOSEDDDDD"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Very funny ah yall"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "You know what’s funny, that you haven’t been eating lunch w us lately"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Too many lunch dates w Marianne"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Ya la, I always see you w her in the canteen after sch"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Eh no lah we’re studying"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Studying or dating"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Player", "Cute ahh datey datey after school"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Eh stop lah guys, I think he’s prob gg to explode from blushing too much"), message_notif, 1000);

    addDiaryEvent([
        "Parent-Teacher Meeting", "22nd November 2021",
        `
        Dear Diary, 
        <br /><br />
        The parent-teacher meeting was today. Which means half-day school and more fun soccer times with the bois! What’s more, it seems like my teachers actually said pleasant things about me for once! My parents actually praised me after their meeting with Mdm Chong. 
        <br /><br />
        On a more serious note, Patrick had to follow his parents for the meeting. Most likely because of the sudden dip in his results. He looked so unlike himself today. Just quiet and sullen. Heck, he didn’t even wave to Marianne when she waved to him earlier today. He’s just so out of it whenever it comes to his grades and his parents it seems. 
        <br /><br />
        I hope he manages to hold out. 
        `
    ]);


    if (conflict_flag && decision_log['day2'] == 'lie') {
        startConflict();
    } else {
        startDay4();
    }
}

async function day3_advice() {
    await addMessageEvent(group, newMessage("Player", "Have you told them how most people have adjustment issues?"), message_notif, 0);
    await addMessageEvent(group, newMessage("Patrick", "That’s not rlly how it works"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "You just don’t understand them or know them well enough"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Surely they saw you studying?"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Patrick", "No, it’s not rlly abt the either"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "It’s always act how I cld hv done btr and how I shld hv asked for help earlier"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Well uh perhaps you cld tell them how the JC syllabus is so diff frm what ur used to?"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Ugh no it just won’t help"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Aiya nvm, you just won’t understand lah"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Heyy Bryan was just trying to offer some advice and support"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "I mean, yea he was just helping"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "tbh, you can’t rlly help"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yall can’t convince my parents anw"), message_notif, 2000);

    addDiaryEvent([
        "Parent-Teacher Meeting", "22nd November 2021",
        `
        Dear Diary, 
        <br /><br />
        The parent-teacher meeting was today. Which means half-day school and more fun soccer times with the bois! What’s more, it seems like my teachers actually said pleasant things about me for once! My parents actually praised me after their meeting with Mdm Chong. 
        <br /><br />
        On a more serious note, Patrick had to follow his parents for the meeting. Most likely because of the sudden dip in his results. He looked so unlike himself today. Just quiet and sullen. Heck, he didn’t even wave to Marianne when she waved to him earlier today. He’s just so out of it whenever it comes to his grades and his parents it seems. 
        <br /><br />
        I hope he manages to hold out. 
        `
    ]);

    if (conflict_flag && decision_log['day2'] == 'lie') {
        startConflict();
    } else {
        startDay4();
    }
}

async function day3_support() {
    await addMessageEvent(group, newMessage("Player", "Damn… that must be a lot of pressure on you"), message_notif, 0);
    await addMessageEvent(group, newMessage("Patrick", "Well,, honestly it’s just a lot of expectations"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "The better you performed in the past, the more you’re expected to perform, am I right?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yeah definitely"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You know, a lot of the pressure could be what you put on yourself too"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Adi", "Yea, like I mean your parents do put pressure on you and all, but half the time you’re the one pushing yourself harder than you can take"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I gues, I just wanna do my best and I mean I’ve done it before"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "True, but rn this is diff, so you need accept for yourself that if you don’t do as well, you can’t kill yourself over it"), message_notif, 2500);
    await addMessageEvent(group, newMessage("Player", "Yea, he’s right, your parents put pressure on you, that we get. But the pressure you put on yourself won’t help either, so try to accept that when the situation changes, you’ve gotta be flexible too and adapt to it"), message_notif, 4000);
    await addMessageEvent(group, newMessage("Adi", "Yea, don’t hold yourself to unrealistic standards. Do an honest reflection, know yourself and set achievable goals."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Yeah then you can improve and work harder after that"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I guess… you’re right lah"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I supposed I can cope for now"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Yea, just let us know if you need any help"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You can talk to us if the pressure is too much"), message_notif, 2000);

    addDiaryEvent([
        "Parent-Teacher Meeting", "22nd November 2021",
        `
        Dear Diary, 
        <br /><br />
        The parent-teacher meeting was today. Which means half-day school and more fun soccer times with the bois! What’s more, it seems like my teachers actually said pleasant things about me for once! My parents actually praised me after their meeting with Mdm Chong. 
        <br /><br />
        On a more serious note, Patrick had to follow his parents for the meeting. Most likely because of the sudden dip in his results. He looked so unlike himself today. Just quiet and sullen. Heck, he didn’t even wave to Marianne when she waved to him earlier today. He’s just so out of it whenever it comes to his grades and his parents it seems. 
        <br /><br />
        I hope he manages to hold out. 
        `
    ]);

    if (conflict_flag && decision_log['day2'] == 'lie') {
        startConflict();
    } else {
        startDay4();
    }
}

async function startConflict() {
    current_decision = decision_tree[3];
    changeDate(15, 12-1, 2021);
    var group = "Adi";
    await addMessageEvent(group, newMessage("Adi", "Eh dude"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "What’s up"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "You know last wk for PTM"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Patrick was w his parents coz he didn’t do well right?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Ur classmate Joshua showed me the class rankings"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Haish yea Patrick wasn’t too proud of it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "He was rather ashamed of it all"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "But you know Hilman and I wouldn’t be asses about it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Well maybe Hilman can be a bit insensitive, but he knows not to play around with these things"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "We’ve known each other for so long, ofc we know how he feels"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Ik, just that Patrick was very sensitive about it and didn’t want me to share it"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Adi", "Sounds like you don’t trust us enough"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "No, nothing like that. I completely trust you and Hilman. It’s just that it seemed impt to Patrick?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I guess he'll bring it up when the time is right"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "I hope so"), message_notif, 2000);

    displayOption(current_decision.descendants);
}

async function day32_keep() {
    var group = "Adi";
    await addMessageEvent(group, newMessage("Player", "It’s a sensitive topic"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Given that he has requested it remain under wraps, I think we shld recognise and respect his privacy"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "I guess I just wished that he wld trust us w these things"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "It’s not like we wldnt understand"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "But yeah, if he wants to keep it private, I totally understand as well"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "I just hope that he trusts us enough to one day share these things with us"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Trust me okay, he trusts you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "He just needs time to process"), message_notif, 2000);

    addDiaryEvent([
        "Exposed", "15 December 2021",
        `
        Dear Diary, 
        <br /><br />
        Adi somehow managed to see the class standings today and asked me about it. I told him the truth and to my relief he took it well! I still told him to keep it under wraps for now till Patrick tells the truth himself. Adi agreed but I still wonder if that was the best decision for everyone. Maybe talking it through may have been a better option.
        `
    ]);

    startDay4()
}

async function day32_release() {
    var group = "Adi";
    await addMessageEvent(group, newMessage("Player", "If you want, you cld prompt him a little on the grp"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "But be nice abt it, just softly prod him"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Hmm I’ll try that"), message_notif, 2000);

    group = "Group";
    await addMessageEvent(group, newMessage("Adi", "Hey, Patrick, I hope this doesn’t overstep any boundaries, but I feel that we shld talk as a grp. We are all aware tht you didn’t do too well for your exams. Honestly, there’s no need to be embarrassed about it at all. We all make mistakes and sometimes we just don’t hit what we expect. But we are all here for you, and we don’t think any less of you because you faltered in your exams. You can trust us with these things, and we’ll be here to do whatever we can. Of course, we will respect your privacy if you ask for it. We get it"), message_notif, 4000);
    await addMessageEvent(group, newMessage("Hilman", "Yea, you don’t really have to be ashamed that you didn’t do as well as you had hoped. We all have those moments, but the important thing is accepting our failures and learning to live with them and work on them."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Guys, I’m sorry"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I should have trusted yall enough to tell you the truth"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Hilman", "Bro, you know we wldnt treat you any differently"), message_notif, 1000);

    await addMessageEvent(group, newMessage("Player", "Yeah, you’re still one of us and we’re here to help"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "In fact, telling us can actually help you come to terms with it all"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "yea, I guess I just didnt want to accept it myself"), message_notif, 1000);
    await addMessageEvent(group, newMessage("Patrick", "Thanks guys"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Aiya, no problem lah, we’re all here"), message_notif, 2000);
    decision_log['final'] = 'expose';

    addDiaryEvent([
        "Exposed", "15 December 2021",
        `Dear Diary, 
        <br /><br />
        Adi somehow managed to see the class standings today and asked me about it. I told him the truth and to my relief he took it well! In the end, I decided that it would be best for everyone to talk things through rather than to keep their thoughts to themselves and let doubtful ideas build-up. 
        <br /><br />
        Fortunately, Patrick took it well too and it seems our bond as a group of friends is still as strong as ever. If not, maybe stronger?
        `
    ]);

    startDay4()
}

async function startDay4() {
    await sleep(30000);
    current_decision = decision_tree[3];
    changeDate(11, 5-1, 2022);

    var group = "Patrick";
    await addMessageEvent(group, newMessage("Patrick", "bro"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I cannot"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Tmr’s exam"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I just can’t"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Take deep breaths"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I’m trying"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Okay.. just focus on that"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Breathing"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "And then tell me what’s going on"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I need more time"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I can’t do it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Can’t do what?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Can’t pass tmr’s them test"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I need to study more"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ve been studying non-stop for months"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "IT’S JUST NOT ENOUGH!!"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "There’s more"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "There’s always more"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "WHY CAN’T I JUST GET IT TOGETHER"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Patrick.. It’s 2 in the morning.."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Have you slept?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I can’t sleep, I can’t study"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Idk what to do"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "ARGHxdajknsfa"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "There’s just so much"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I can’t do badly again"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You won’t"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But I will"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "There’s just so much to memorise"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ve been preparing for months"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I see you day after day working on every single subject, them included"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You are by far the most hardworking student in the whole cohort. Potentially even in school history!"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "There’s no way you’re going to do badly this time"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But what if I do?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You won’t"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Trust me"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ve put in the hours, and the work, everyone can see that you’re the most dedicated student"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Eh what’s another example of a covalent lattice other than diamond?"), message_notif, 2000);

    displayOption(current_decision.descendants);
}

async function day4_console() {
    var group = "Patrick";

    await addMessageEvent(group, newMessage("Player", "Bruhh.. stop"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I can’t"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I can’t remember……."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yes you can"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Put your books down and lie down. Close your eyes and rest"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You need to"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "What if I oversleep?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "No more what ifs"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Go sleep now"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "That’s the only thing that can help now"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "If it gives you any peace, I’ll give u a call in the morning to make sure you’re awake"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Stressing more won’t help"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ll do well, now go sleep"), message_notif, 2000);

    addDiaryEvent([
        "Exam Day 1", "11 May 2022",
        `Dear Diary,
        <br /><br />
        Patrick texted me last night (this morning? Idk what is 2am even). He was in full on panic mode but I think I managed to calm him down at least. I’m really glad that Patrick has the trust to confide in me and I’m even happier that I can be doing something that can help him. 
        <br /><br />
        Didn’t get enough sleep last night but at least I still had enough energy to last me through the day. After all, what is one night of sleep compared to helping a friend in need right?
        `
    ]);

    await sleep(4000);

    //precursor to day4_console2
    await addMessageEvent(group, newMessage("Player", "Tmr is math"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "omg"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "I guess I just wished that he wld trust us w these things"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "It’s not like we wldnt understand"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "But yeah, if he wants to keep it private, I totally understand as well"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "I just hope that he trusts us enough to one day share these things with us"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Trust me okay, he trusts you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "He just needs time to process"), message_notif, 2000);

    await sleep(8000);
    day4_2();
}

async function day4_group() {
    var group = "Group";
    await addMessageEvent(group, newMessage("Player", "@Patrick why don’t you talk to all of us here"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You know we’re all here for you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Yeah bro, can’t sleep?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yeah, I just"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I just can’t remember the stuffs"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Stuff that I’ve studied for months"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "And I feel like there’s always more to be done"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Bro, it’ll come to you.. don’t force yourself. You’ll go crazy"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Patrick, tell me how many hours a day you study"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Uhm about 8h in sth and 3h at home I guess"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "What abt weekends and hols?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "About 6-7?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yea, exactly. Which part of that insane regime tells you that you’re not going to perform tmr?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Coz I did badly before??"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "That’s exactly why you studied so hard in the first place"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "He’s right, you have done everything in your power to ensure that you learnt from your past mistakes and you’ll definitely be doing better this time around"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yeah bro, there is no way that you’re messing this up"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "We all believe in you. You’re the hardest worker out there, so don’t ever doubt yourself"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Well, I never really thought abt it the way"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Ofc you didn’t.. You were too stuck up with your past failures. Don’t ever let that stop you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yeah, so now go to sleep. That’s the only thing that you can do right now"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Take it all one step at a time"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Goodnights!! :DD"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Gn guys, thanks for the pep talk"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Np, now go and rest.."), message_notif, 2000);

    await sleep(4000);
    addDiaryEvent([
        "Exam Day 1", "11 May 2022",
        `Dear Diary, 
        <br /><br />
        Patrick texted me last night (this morning? Idk what is 2am even). He was in full on panic mode. I decided that it would be best for Adi and Hilman to be involved as well to be able to support Patrick and to share their expertise. Thankfully, both Adi and Hilman were more than willing to help and I think Patrick really learnt alot. 
        <br /><br />
        `
    ]);

    decision_log['final'] = 'expose';

    startDay5();
}

async function day4_2() {
    var group = "Patrick";
    changeDate(12, 5-1, 2022);
    await addMessageEvent(group, newMessage("Patrick", "Tmr is math"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "omg"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "help me"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "With "), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "The formulas"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I can’t get it right "), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Since when?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Like rn!!!!"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I just can’t get it to click"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Why would that be?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ve been at it for months"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "By now I’m sure you’ve memorise everything just that you don’t know it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But what if I don’t??"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "It’s just not going in"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "ARGHHH"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "HOW DO I DO THISS"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Bro"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Come one, you know that Math is all about practice and more practice"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ve been hard at work practising every single question and practice paper out there"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yea, but they always come up w new questions"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "So what? The concepts are all the same"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "It’ll all come to you in the test"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "What if it doesn’t?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I need more practice.."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Do you have any more TYS questions?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Come on Patrick, you’ve literally done it all.."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "That’s how prepared you are for this test"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "There is nothing more that you can do now but to be calm yourself down and be patient about it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Uhm I’ll try I guess"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But I feel like I’m always missing sth"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "No you are not"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Just get some rest"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Honestly, I can’t.. My mind is racing"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Don’t think abt it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Srsly, clear your mind.. please rest"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I just don’t think I can do it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ve been tutoring me for the past few weeks"), message_notif, 2000);

    displayOption(current_decision.descendants);
}

async function day4_console2() {
    var group = "Patrick";
    
    await addMessageEvent(group, newMessage("Player", "If I can do it, you definitely can!"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But it’s diff"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "You catch on so much faster"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I need time to learn and memorise.."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "And you’ve have spent to much time just slogging away"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You’ll be fine.. Relax and clear your mind :’)"), message_notif, 2000);

    addDiaryEvent([
        "Exam Day 2", "12 May 2022",
        `Dear Diary,
        <br /><br />
        Patrick texted me again at 2am. He was once again in his full on panic mode but I managed to get him to calm down again. It’s still great that he still confides in me and can find some form of comfort this way. But...it feels like it is starting to take a toll so close to the exams. 
        <br /><br />
        I could really feel the fatigue heading into the later part of today’s papers.
        `
    ]);

    await sleep(8000);
    day4_3();
}

async function day4_group2() {
    var group = "Group";
    await addMessageEvent(group, newMessage("Player", "@Patrick why don’t you talk to all of us here"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "You know we’re all here for you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Yeah bro, can’t sleep?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yeah, I just"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I just can’t remember the stuffs"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Stuff that I’ve studied for months"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "And I feel like there’s always more to be done"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Bro, it’ll come to you.. don’t force yourself. You’ll go crazy"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Patrick, tell me how many hours a day you study"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Uhm about 8h in sth and 3h at home I guess"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "What abt weekends and hols?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "About 6-7?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yea, exactly. Which part of that insane regime tells you that you’re not going to perform tmr?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Coz I did badly before??"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "That’s exactly why you studied so hard in the first place"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "He’s right, you have done everything in your power to ensure that you learnt from your past mistakes and you’ll definitely be doing better this time around"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Player", "Yeah bro, there is no way that you’re messing this up"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "We all believe in you. You’re the hardest worker out there, so don’t ever doubt yourself"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Well, I never really thought abt it the way"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Ofc you didn’t.. You were too stuck up with your past failures. Don’t ever let that stop you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yeah, so now go to sleep. That’s the only thing that you can do right now"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Take it all one step at a time"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Goodnights!! :DD"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Gn guys, thanks for the pep talk"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Np, now go and rest.."), message_notif, 2000);

    addDiaryEvent([
        "Exam Day 2", "12 May 2022",
        `Dear Diary, 
        <br /><br />
        Patrick texted me at 2am again. He was once again in full on panic mode. This time, I decided that it would be best for Adi and Hilman to be involved as well to be able to support Patrick and to share their expertise. Thankfully, both Adi and Hilman were more than willing to help and I think Patrick really learnt alot. 
        `
    ]);

    decision_log['final'] = 'expose';

    startDay5();
}

async function day4_3() {
    await sleep(8000);
    changeDate(13, 5-1, 2022);
    var group = "Group";
    await addMessageEvent(group, newMessage("Patrick", "Bro"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I’m sorry"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "This is like every night"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But I really really can’t take it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Don’t say that, just tell me"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "How are you feeling?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Like an elephant is sitting on my skull"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "And my skull is pumped full of water, about to burst"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Everything hurts"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Why are you stressing this badly"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Isn’t tmr just GP? I thought you were good at it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I was"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I thought I was"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But evidently I suck at that too"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Heyyy, you literally wrote 30 diff essays to prepare"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "No one can be more prepared than you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yet I’m still sure I’m going to mess it up somewhere"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I just want it to end"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Do you mean…?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "No not like that"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Not yet anyways"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But I need to just stop worrying"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But I can’t"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Well don’t"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Everything hurts"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Every second of everyday my mind is throbbing"), message_notif, 2000);

    displayOption(current_decision.descendants);
}

async function day4_console3() {
    var group = "Group";
    await addMessageEvent(group, newMessage("Player", "Just hang in there"), message_notif, 2000); 
    await addMessageEvent(group, newMessage("Player", "It’s literally just a few more hours"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Last paper already okay?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Mm yea… you’re right I guess"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yea, just tahan a bit more"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I’m just worried you know?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I’ve been doing so badly in class and all"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Badly? You’ve been grinding every day and every night"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Everyone can see that you’re determined"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But determination can’t solve everything"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "No it can’t, but at least ur mind and heart are in the right places"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "So go get some sleep, ur doing the right thing alr"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Take life one step at a time"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Am I really?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yes. You are"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "As long as your conscience is clear, the rest will follow"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Goodnight I guess"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Yea, sleep well"), message_notif, 2000);

    addDiaryEvent([
        "Exam Day 3", "13 May 2022",
        `Dear Diary,
        <br /><br />
        Almost as if it has become a routine now, I got that message from Patrick at 2am again. The stress must have been keeping him up and it kept me up as well since I had to pacify panic-mode Patrick yet again. I really needed a good night’s rest before the exam but could I really turn away a friend in need? 
        <br /><br />
        Sigh, I know I must have made many careless mistakes during the papers today from the lack of sleep. 
        `
    ]);

    startDay5();
}

async function day4_rest() {
    var group = "Group";
    await addMessageEvent(group, newMessage("Patrick", "Bro"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I’m sorry"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "This is like every night"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "But I really really can’t take it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Maybe you just need some sleep"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Uhm actually, so do I"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I’m rlly sorry, but it’s been quite a few nights staying up late and tmr is gg to be a tough paper for me"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Oh, I’m sorry"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "No, no don’t apologise"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I just have been studying hard so I am rlly rlly tired"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "I’ll see u tmr? We can talk then"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yea, yea sure, np"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Sorry for keeping you up"), message_notif, 2000);

    addDiaryEvent([
        "Exam Day 3", "13 May 2022",
        `Dear Diary, 
        <br /><br />
        Almost like clockwork, the 2am message from Patrick came in once again. This time, I decided to set my foot down. Although I do care for Patrick, I still have to take care of myself before I can think about taking care of others. I had 3 papers today and the lack of sleep would not have helped. 
        <br /><br />
        Besides, if I keep responding every time, I’m worried that Patrick may build some form of reliance on me for support and that is definitely not very healthy. That being said, I’ll be sure to let Patrick know that I still care for him and am willing to help him when I can. This would have been easier if Adi and Hilman were here to support Patrick as well.  
        `
    ]);

    decision_log['reject'] = true;

    startDay5();
}

async function startDay5() {
    await sleep(30000);
    var group = "Group";
    changeDate(29, 12-1, 2022);

    await addMessageEvent(group, newMessage("Hilman", "Guys, how’d y’all do this time arnd?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Better I guess"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Definitely could have done better but realistically, it is a step up and I wld say good progress"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "Sometimes progress is all we need"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Player", "A little bit just to get the ball rolling in the right direction"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Yea, sometimes we just need that initial push for us to get onto the right path"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Well, I hope it motivates you to keep going at it"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "Yea, it does. It means that what I’m doing is working"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "How did y’all do?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "As good as always, I think I’m pretty consistent"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Ofc you would say that"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "Anw I guess I improved a little too, but all in all I think I still cld do btr"), message_notif, 2000);

    if (decision_log['final'] == 'lie') {
        day5_truth();
    }
}

async function day5_truth() {
    var group = "Group";

    await addMessageEvent(group, newMessage("Patrick", "Btw @Hilman @Adi I’m sure by now you’re aware my grades haven’t been stellar"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "In truth, I trust you both very much, but I just haven’t been able to accept it myself, and I guess I didn’t want to shatter any perceptions of me that might have been what I depended upon for affirmation"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "You know, we’d never treat you differently"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Hilman", "Yea, you don’t really have to be ashamed that you didn’t do as well as you had hoped. We all have those moments, but the important thing is accepting our failures and learning to live with them and work on them."), message_notif, 2000);
    await addMessageEvent(group, newMessage("Adi", "We understand that you may have been scared to not fulfil expectations, but understand that we wld never impose such pressures on you"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "I know that now. I’m sorry for not telling yalls sooner"), message_notif, 2000);

    day5_end();
}

async function day5_end() {
    var group = "Group";
    if (decision_log['reject']) {
        await addMessageEvent(group, newMessage("Player", "I think I too have made good progress"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Player", "I wld say I’m finally getting the hang of JC"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Adi", "Yea, with a little more work, you cld rlly be one of the top scorers"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Hilman", "Oh you’ve got to beat me first XD"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Patrick", "You know, I think he can"), message_notif, 2000);
    } else {
        await addMessageEvent(group, newMessage("Player", "Uhm I guess I’ve done btr"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Player", "I made a lot of stupid mistakes"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Player", "Really careless ones, and they really cost me my grades"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Hilman", "Yeah, I saw some of them"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Hilman", "You need to be a lot more careful bro"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Adi", "All these small things can really add up"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Player", "Indeed, I think so. I need to be a lot more cautious"), message_notif, 2000);
        await addMessageEvent(group, newMessage("Patrick", "Maybe I sold give you some of your own advice, take it one step at a time and handle the things you can, don’t stress over the things you can’t"), message_notif, 3000);
    }
    await addMessageEvent(group, newMessage("Player", "So how will your parents react?"), message_notif, 2000);
    await addMessageEvent(group, newMessage("Patrick", "They’d probably be less than satisfied but realistically, this is my current ability. While I aim high and have high expectations, I am aware of what I truly can and cannot do"), message_notif, 3000);
    await addMessageEvent(group, newMessage("Patrick", "Because of that, I will build myself up, one step at a time and I will learn to sort out constructive stress from destructive pressures"), message_notif, 3000);

    if (decision_log['reject']) {
        if (decision_log['final'] != "lie" || decision_log["day2"] != "lie") {
            addDiaryEvent([
                "J2 MYE results day", "29 May 2022",
                `Dear Diary, 
                <br /><br />
                Today was result collection day. The last time we had this, I remember the drama with Patrick not willing to tell the truth about his results. My results got worse this time. Most likely because I was distracted when trying to care for Patrick but oh well. I’ll learn from this experience and take it in my stride. 
                <br /><br />
                Welp, this time round, although Patrick still didn’t do that well, he had no hesitation in sharing his results with us. He even told the truth about his J1 year-end results! It is really nice to see that Patrick is growing not just academically and that Adi and Hilman are there for him as well. 
                <br /><br />
                Although Patrick’s problems with his parents and their expectations has certainly not magically vanished into thin air, it is encouraging to see him learning to cope with these stressors and as a group of friends, I am sure that we will be able to overcome any challenges that any of us face, together as one.
                `
            ]);
        } else {
            addDiaryEvent([
                "J2 MYE results day", "29 May 2022",
                `Dear Diary, 
                <br /><br />
                Today was result collection day. The last time we had this, I remember the drama with Patrick not willing to tell the truth about his results. My results got worse this time. Most likely because I was distracted when trying to care for Patrick but oh well. I’ll learn from this experience and take it in my stride. 
                <br /><br />
                Welp, this time round, although Patrick still didn’t do that well, he had no hesitation in sharing his results with us. It is really nice to see that Patrick is growing not just academically and that Adi and Hilman are there for him as well. 
                <br /><br />
                Although Patrick’s problems with his parents and their expectations has certainly not magically vanished into thin air, it is encouraging to see him learning to cope with these stressors and as a group of friends, I am sure that we will be able to overcome any challenges that any of us face, together as one.
                <br /><br />
                `
            ]);
        }
    } else {
        if (decision_log['final'] != "lie" || decision_log["day2"] != "lie") {
            addDiaryEvent([
                "J2 MYE results day", "29 May 2022",
                `Dear Diary, 
                <br /><br />
                Today was result collection day. The last time we had this, I remember the drama with Patrick not willing to tell the truth about his results. My results were nothing too notable, just some gradual improvements again. 
                <br /><br />
                Welp, this time round, although Patrick still didn’t do that well, he had no hesitation in sharing his results with us. He even told the truth about his J1 year-end results! It is really nice to see that Patrick is growing not just academically and that Adi and Hilman are there for him as well. 
                <br /><br />
                Although Patrick’s problems with his parents and their expectations has certainly not magically vanished into thin air, it is encouraging to see him learning to cope with these stressors and as a group of friends, I am sure that we will be able to overcome any challenges that any of us face, together as one.
                `
            ]);

        } else {
            addDiaryEvent([
                "J2 MYE results day", "29 May 2022",
                `Dear Diary, 
                <br /><br />
                Today was result collection day. The last time we had this, I remember the drama with Patrick not willing to tell the truth about his results. My results were nothing too notable, just some gradual improvements again. 
                <br /><br />
                Welp, this time round, although Patrick still didn’t do that well, he had no hesitation in sharing his results with us. It is really nice to see that Patrick is growing not just academically and that Adi and Hilman are there for him as well. 
                <br /><br />
                Although Patrick’s problems with his parents and their expectations has certainly not magically vanished into thin air, it is encouraging to see him learning to cope with these stressors and as a group of friends, I am sure that we will be able to overcome any challenges that any of us face, together as one.
                `
            ]);
        }
    }

    alert("You've come to the end of our game :) I hoped you enjoyed it");
}


window.onload = function() {
    var chat = document.getElementById('chat-window');
    chat.scrollTop = chat.scrollHeight;

    changeDate(9, 11-1, 2021);

    buildDecisionTree();
    console.log(current_decision);
    swapToNewChat("Group");
    startGame();
}